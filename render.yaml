services:
  - type: static
    name: matrix
    env: static
    branch: main
    buildCommand: ""      # no build
    publishPath: /        # index.html lives at the repo root
    autoDeploy: true

    # Optional but recommended headers
    headers:
      # Long cache for heavy assets (tweak patterns as needed)
      - path: "*.js"
        name: Cache-Control
        value: public, max-age=31536000, immutable
      - path: "*.css"
        name: Cache-Control
        value: public, max-age=31536000, immutable
      - path: "assets/*"
        name: Cache-Control
        value: public, max-age=31536000, immutable

      # If you ever move rendering to a Worker + OffscreenCanvas,
      # uncomment these two for cross-origin isolation:
      # - path: "/"
      #   name: Cross-Origin-Opener-Policy
      #   value: same-origin
      # - path: "/"
      #   name: Cross-Origin-Embedder-Policy
      #   value: require-corp
